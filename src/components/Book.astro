---
import { Image } from "astro:assets";
const { src, progress, title, author, href } = Astro.props;
---

<a
  class="flex flex-col gap-y-1 lg:gap-y-2 cursor-default"
  href={href}
  target="_blank"
>
  <div
    class="relative xl:min-w-36 xl:min-h-56 xl:w-36 xl:h-56 lg:min-w-28 lg:w-28 lg:min-h-40 lg:h-40 md:w-24 md:min-h-36 md:h-36 min-w-18 min-h-24 w-18 h-24 flex flex-col items-center justify-center rounded border-2 border-black"
  >
    <Image
      src={src}
      width={200}
      alt={title}
      format="avif"
      class="w-full h-full object-cover"
    />
    <div
      class="flex flex-col leading-snug gap-y-0.5 text-center justify-center mt-2 absolute bg-black bg-opacity-85 w-full py-2 bottom-0"
    >
      <div class="italic text-[0.50rem] xl:text-[0.60rem] text-white">
        {title}
      </div>
      <div class="text-[0.45rem] xl:text-[0.55rem] text-white">{author}</div>
    </div>
  </div>
  <div
    class="w-18 lg:w-28 xl:w-36 rounded-full h-1 lg:h-1 xl:h-1.5 bg-[#132248]"
  >
    <div
      class={`h-1 xl:h-1.5 rounded-full ${progress !== 1 ? "bg-[#9156A9]" : "bg-[#9156A9]"}`}
      style={`width: ${progress * 100}%`}
    >
    </div>
  </div>
</a>
